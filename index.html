<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/style.css" rel="stylesheet">
        <link href="css/fonts.css" rel="stylesheet">
        <script src="js/vue.min.js"></script>
        <script src="js/axios.min.js"></script>
    </head>
    <body>
        <header>
            <img src="" alt="">
        </header>
        <main>
            <h1>Artistas destacados en su género</h1>
            <p class="subtitulo">Texto de subtítulo test</p>
            <div class="video">
                <iframe src="https://player.vimeo.com/video/446694307?color=ffffff" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
            </div>

            <section class="cdmusic">
                <h2>Recopilación N20</h2>
                <div class="cdn20">
                    <div class="caratula">
                        <picture>
                            <source srcset="img/caratula.jpeg" width="360" media="(min-width: 768px)">
                            <img src="img/caratula.jpeg" alt="">
                        </picture>
                    </div>
                    <div class="tracklist">
                        <p>Tracklist</p>
                        <div class="listas">
                            <ul>
                                <li>01. Esta Navidad</li>
                                <li>02. Noel</li>
                                <li>03. Jingle Bells</li>
                                <li>04. Más allá</li>
                                <li>05. Last Christmas</li>
                                <li>06. All I Want for Christmas is you</li>
                                <li>07. Es Navidad</li>
                                <li>08. Dime Niño</li>
                            </ul>
                            <ul> 
                                <li>09. La Marimorena</li>
                                <li>10. Blanca Navidad</li>
                                <li>11. Rodolfo el Reno</li>
                                <li>12. Let it snow</li>
                                <li>13. Te deseo muy felices fiestas</li>
                                <li>14. Underneath The Tree</li>
                                <li>15. Mi humilde oración</li>
                                <li>16. Feliz Navidad</li>
                            </ul>
                        </div>  
                        <section class="comprardesk">
                            <div id="product-price">
                                <div class="precio">
                                    <p>Precio: $</p>
                                        <input type="number" v-model.number="price">
                                    <!--p>$100</p-->
                                </div>
                                    <button @click="buyProduct">
                                        <div class="spinner">
                                            <div class="bounce1" v-if="spinner"></div>
                                            <div class="bounce2" v-if="spinner"></div>
                                            <div class="bounce3" v-if="spinner"></div>
                                            <span class="lbl-btn" v-else>Compra Digital</span>
                                      </div>
                                    </button>
                            </div>
                        </section>                      
                    </div>
                </div>                
            </section>

            <div class="img">
                <picture>
                    <source srcset="https://via.placeholder.com/900x300" media="(min-width: 768px)">
                    <img src="https://via.placeholder.com/450" alt="">
                </picture>
            </div>

            <div class="text">
                <p>NL20 es una iniciativa que nació con la idea de apoyar a un grupo de cantantes y músicos, 
                quienes durante el 2020 vieron afectada su actividad profesional, al quedar suspendidos todos los 
                eventos culturales y de recreación social en el país.</p>

                <p>Este grupo, conformado por 32 artistas, trabajaron en la producción de un disco musical navideño, todos ellos 
                estuvieron involucrados activamente en la realización de este proyecto; desde la selección de las canciones, 
                hasta los arreglos musicales del mismo. La dirección y producción musical es de Neto Grazzia, quien fue el 
                encargado de unificar todas las propuestas que dieron como resultado un disco con 16 canciones muy especiales.</p>

                <p>El precio de venta del disco es de $100MXP, pero queremos invitarlos a que si se sienten generosos y quieran apoyar 
                con un poco más a la iniciativa, pueden aportar más de esa cantidad al comprarlo. Todo el dinero que se recaude se irá 
                a un fondo, que se destinará en su totalidad a financiar la mayor cantidad de proyectos culturales posibles una vez que 
                se reanuden las actividades presenciales.</p>
                
                <p>La compra del disco no solo ayuda a que la iniciativa sea más grande, también es un incentivo para todos los artistas locales,
                 ya que los motiva a seguir haciendo y creando más arte. Tu apoyo es muy importante para todos los que formamos NL20: 
                 ¡Muchas gracias!</p>            
            </div>
        </main>
        <section class="comprar">
          <div id="product-price-m">
                                <div class="precio">
                                    <p>Precio: $</p>
                                        <input type="number" v-model.number="price">
                                    <!--p>$100</p-->
                                </div>
                                    <button @click="buyProduct">
                                        <div class="spinner">
                                            <div class="bounce1" v-if="spinner"></div>
                                            <div class="bounce2" v-if="spinner"></div>
                                            <div class="bounce3" v-if="spinner"></div>
                                            <span class="lbl-btn" v-else>Compra Digital</span>
                                      </div>
                                    </button>
                            </div>
            <!--div class="precio">
                <p>Precio:</p>
                <p>$100</p>
            </div>
                <button>Compra Digital</button>
        </section-->  

        <script>

            new Vue({
              el: '#product-price',
              data: {
                price: 100,
                spinner: false
              },
              methods: {
                    buyProduct: function () {
                        this.spinner = true;
                        let priceProduct = parseFloat(this.price);
                        if(priceProduct < 100 || isNaN(priceProduct)){
                            alert('El monto minimo son $100.00');
                            this.spinner = false;
                        }
                        else{
                            axios.post('http://new.cdn20.com/payment.php', JSON.stringify({ price: priceProduct }), {
                            })
                            .then((response) => {
                                if(response.data.status){
                                    window.location.href = response.data.message;
                                }
                                else{
                                    alert(response.data.message);
                                    this.spinner = false;
                                }
                            })
                            .catch((ex) => {
                                console.log(ex.message);
                                this.spinner = false;
                            })
                        }
                    }
                }
            })

            new Vue({
              el: '#product-price-m',
              data: {
                price: 100,
                spinner: false
              },
              methods: {
                    buyProduct: function () {
                        this.spinner = true;
                        let priceProduct = parseFloat(this.price);
                        if(priceProduct < 100 || isNaN(priceProduct)){
                            alert('El monto minimo son $100.00');
                            this.spinner = false;
                        }
                        else{
                            axios.post('http://new.cdn20.com/payment.php', JSON.stringify({ price: priceProduct }), {
                            })
                            .then((response) => {
                                if(response.data.status){
                                    window.location.href = response.data.message;
                                }
                                else{
                                    alert(response.data.message);
                                    this.spinner = false;
                                }
                            })
                            .catch((ex) => {
                                console.log(ex.message);
                                this.spinner = false;
                            })
                        }
                    }
                }
            })
            
        </script>
    </body>
</html>
